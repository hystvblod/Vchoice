{
  "meta": {
    "scenario_id": "chateau_absents",
    "version": "1.0.0",
    "title_key": "ca.title",
    "tagline_key": "ca.tagline",
    "start_scene": "s01",
    "hint_ns": "ca.h"
  },
  "paths": {
    "logic": "data/scenarios/chateau_absents/logic.json",
    "texts_fr": "data/scenarios/chateau_absents/text_fr.json",
    "images_dir": "assets/scenarios/chateau_absents/img/"
  },
  "images": {
    "cover": { "file": "assets/scenarios/chateau_absents/img/cover.webp", "alt": "Château abandonné au crépuscule, brume froide" },
    "gate": { "file": "assets/scenarios/chateau_absents/img/gate.webp", "alt": "Grille rouillée entrouverte, chaîne rompue, allée vers le château" },
    "courtyard": { "file": "assets/scenarios/chateau_absents/img/courtyard.webp", "alt": "Cour intérieure envahie, statue érodée, fenêtres béantes" },
    "hall": { "file": "assets/scenarios/chateau_absents/img/hall.webp", "alt": "Grand hall poussiéreux, lustre éteint, porte principale derrière" },
    "grand_stair": { "file": "assets/scenarios/chateau_absents/img/grand_stair.webp", "alt": "Escalier monumental, palier sombre" },
    "corridor": { "file": "assets/scenarios/chateau_absents/img/corridor.webp", "alt": "Couloir long, portes identiques, papier peint décollé" },
    "corridor_shift": { "file": "assets/scenarios/chateau_absents/img/corridor_shift.webp", "alt": "Couloir déformé, angles incohérents, porte apparue" },
    "portrait_gallery": { "file": "assets/scenarios/chateau_absents/img/portrait_gallery.webp", "alt": "Galerie de portraits, cadres ternis, regards oppressants" },
    "library": { "file": "assets/scenarios/chateau_absents/img/library.webp", "alt": "Grande bibliothèque, étagères hautes, poussière" },
    "library_desk": { "file": "assets/scenarios/chateau_absents/img/library_desk.webp", "alt": "Bureau d’écriture, carnet ouvert, page arrachée" },
    "ballroom": { "file": "assets/scenarios/chateau_absents/img/ballroom.webp", "alt": "Salle de bal vide, miroirs piqués, rideaux lourds" },
    "kitchen": { "file": "assets/scenarios/chateau_absents/img/kitchen.webp", "alt": "Cuisine ancienne abandonnée, métal rouillé, humidité" },
    "cellar_stairs": { "file": "assets/scenarios/chateau_absents/img/cellar_stairs.webp", "alt": "Escalier de pierre vers la cave, obscurité profonde" },
    "cellar_corridor": { "file": "assets/scenarios/chateau_absents/img/cellar_corridor.webp", "alt": "Couloir de cave humide, porte au fond" },
    "wine_room": { "file": "assets/scenarios/chateau_absents/img/wine_room.webp", "alt": "Cave à vin, casiers, une bouteille scellée intacte" },
    "chapel": { "file": "assets/scenarios/chateau_absents/img/chapel.webp", "alt": "Chapelle privée, vitrail fendu, poussière, bougie récente" },
    "chapel_altar": { "file": "assets/scenarios/chateau_absents/img/chapel_altar.webp", "alt": "Autel, livre de prières ouvert, clé ancienne posée" },
    "servant_quarters": { "file": "assets/scenarios/chateau_absents/img/servant_quarters.webp", "alt": "Quartiers des domestiques, lits fer, casiers" },
    "mirror_room": { "file": "assets/scenarios/chateau_absents/img/mirror_room.webp", "alt": "Pièce aux miroirs, reflets incohérents, silhouette subtile" },
    "conservatory": { "file": "assets/scenarios/chateau_absents/img/conservatory.webp", "alt": "Jardin d’hiver sous verrière fendue, plantes mortes" },
    "tower_stairs": { "file": "assets/scenarios/chateau_absents/img/tower_stairs.webp", "alt": "Escalier en colimaçon de tour, ombres profondes" },
    "tower_room": { "file": "assets/scenarios/chateau_absents/img/tower_room.webp", "alt": "Chambre haute, table ronde, carte ancienne, symbole" },
    "attic": { "file": "assets/scenarios/chateau_absents/img/attic.webp", "alt": "Grenier, poutres, malles, poussière épaisse" },
    "attic_trunk": { "file": "assets/scenarios/chateau_absents/img/attic_trunk.webp", "alt": "Malle ouverte, signet/anneau, lettre, objet trop propre" },
    "secret_passage": { "file": "assets/scenarios/chateau_absents/img/secret_passage.webp", "alt": "Passage secret derrière panneau, pierres, marche étroite" },
    "crypt": { "file": "assets/scenarios/chateau_absents/img/crypt.webp", "alt": "Crypte, niches, symbole au sol, silence absolu" },
    "final_good": { "file": "assets/scenarios/chateau_absents/img/final_good.webp", "alt": "Aube froide dehors, grille franchie, libération" },
    "final_bad": { "file": "assets/scenarios/chateau_absents/img/final_bad.webp", "alt": "Salle de bal, silhouettes fantomatiques subtiles, cercle fermé" },
    "final_secret": { "file": "assets/scenarios/chateau_absents/img/final_secret.webp", "alt": "Crypte, symbole activé, poussière en spirale, rupture du lien" }
  },
  "state_model": {
    "flags": [
      "has_diary_page",
      "has_chapel_key",
      "has_map_fragment",
      "has_signet",
      "has_recording",
      "knows_symbol",
      "found_secret_passage",
      "refused_call",
      "touched_mirror",
      "entered_crypt"
    ]
  },
  "scenes": {
    "s01": {
      "image_id": "cover",
      "title_key": "ca.s01.title",
      "body_key": "ca.s01.body",
      "choices": [
        { "choice_key": "ca.s01.c1", "next": "s02" },
        { "choice_key": "ca.s01.c2", "next": "s03" },
        { "choice_key": "ca.s01.c3", "next": "s04" }
      ]
    },
    "s02": {
      "image_id": "gate",
      "title_key": "ca.s02.title",
      "body_key": "ca.s02.body",
      "choices": [
        { "choice_key": "ca.s02.c1", "next": "s03" },
        { "choice_key": "ca.s02.c2", "next": "s01", "set_flags": ["refused_call"] },
        { "choice_key": "ca.s02.c3", "next": "s04" }
      ]
    },
    "s03": {
      "image_id": "gate",
      "title_key": "ca.s03.title",
      "body_key": "ca.s03.body",
      "choices": [
        { "choice_key": "ca.s03.c1", "next": "s04" },
        { "choice_key": "ca.s03.c2", "next": "s02" },
        { "choice_key": "ca.s03.c3", "next": "s05" }
      ]
    },
    "s04": {
      "image_id": "courtyard",
      "title_key": "ca.s04.title",
      "body_key": "ca.s04.body",
      "choices": [
        { "choice_key": "ca.s04.c1", "next": "s05" },
        { "choice_key": "ca.s04.c2", "next": "s06" },
        { "choice_key": "ca.s04.c3", "next": "s03" }
      ]
    },
    "s05": {
      "image_id": "hall",
      "title_key": "ca.s05.title",
      "body_key": "ca.s05.body",
      "choices": [
        { "choice_key": "ca.s05.c1", "next": "s06" },
        { "choice_key": "ca.s05.c2", "next": "s04" },
        { "choice_key": "ca.s05.c3", "next": "s07" }
      ]
    },
    "s06": {
      "image_id": "hall",
      "title_key": "ca.s06.title",
      "body_key": "ca.s06.body",
      "choices": [
        { "choice_key": "ca.s06.c1", "next": "s07" },
        { "choice_key": "ca.s06.c2", "next": "s08" },
        { "choice_key": "ca.s06.c3", "next": "s09" }
      ]
    },
    "s07": {
      "image_id": "hall",
      "title_key": "ca.s07.title",
      "body_key": "ca.s07.body",
      "choices": [
        { "choice_key": "ca.s07.c1", "next": "s08" },
        { "choice_key": "ca.s07.c2", "next": "s09" },
        { "choice_key": "ca.s07.c3", "next": "s10" }
      ]
    },
    "s08": {
      "image_id": "grand_stair",
      "title_key": "ca.s08.title",
      "body_key": "ca.s08.body",
      "choices": [
        { "choice_key": "ca.s08.c1", "next": "s09" },
        { "choice_key": "ca.s08.c2", "next": "s34" },
        { "choice_key": "ca.s08.c3", "next": "s16" }
      ]
    },
    "s09": {
      "image_id": "corridor",
      "title_key": "ca.s09.title",
      "body_key": "ca.s09.body",
      "choices": [
        { "choice_key": "ca.s09.c1", "next": "s11" },
        { "choice_key": "ca.s09.c2", "next": "s13" },
        { "choice_key": "ca.s09.c3", "next": "s10" }
      ]
    },
    "s10": {
      "image_id": "corridor_shift",
      "title_key": "ca.s10.title",
      "body_key": "ca.s10.body",
      "choices": [
        { "choice_key": "ca.s10.c1", "next": "s09" },
        { "choice_key": "ca.s10.c2", "next": "s24" },
        { "choice_key": "ca.s10.c3", "next": "s12" }
      ]
    },
    "s11": {
      "image_id": "portrait_gallery",
      "title_key": "ca.s11.title",
      "body_key": "ca.s11.body",
      "choices": [
        { "choice_key": "ca.s11.c1", "next": "s12" },
        { "choice_key": "ca.s11.c2", "next": "s13" },
        { "choice_key": "ca.s11.c3", "next": "s09" }
      ]
    },
    "s12": {
      "image_id": "portrait_gallery",
      "title_key": "ca.s12.title",
      "body_key": "ca.s12.body",
      "choices": [
         { "choice_key": "ca.s12.c1", "next": "s49", "set_flags": ["knows_symbol"] },
        { "choice_key": "ca.s12.c2", "next": "s10" },
        { "choice_key": "ca.s12.c3", "next": "s13" }
      ]
    },
    "s13": {
      "image_id": "library",
      "title_key": "ca.s13.title",
      "body_key": "ca.s13.body",
      "choices": [
        { "choice_key": "ca.s13.c1", "next": "s14" },
        { "choice_key": "ca.s13.c2", "next": "s46" },
        { "choice_key": "ca.s13.c3", "next": "s09" }
      ]
    },
    "s14": {
      "image_id": "library_desk",
      "title_key": "ca.s14.title",
      "body_key": "ca.s14.body",
      "choices": [
        { "choice_key": "ca.s14.c1", "next": "s15", "set_flags": ["has_diary_page"] },
        { "choice_key": "ca.s14.c2", "next": "s13" },
        { "choice_key": "ca.s14.c3", "next": "s16" }
      ]
    },
    "s15": {
      "image_id": "library_desk",
      "title_key": "ca.s15.title",
      "body_key": "ca.s15.body",
      "choices": [
        { "choice_key": "ca.s15.c1", "next": "s46" },
        { "choice_key": "ca.s15.c2", "next": "s09" },
        { "choice_key": "ca.s15.c3", "next": "s10" }
      ]
    },
    "s16": {
      "image_id": "ballroom",
      "title_key": "ca.s16.title",
      "body_key": "ca.s16.body",
      "choices": [
        { "choice_key": "ca.s16.c1", "next": "s17" },
        { "choice_key": "ca.s16.c2", "next": "s09" },
        { "choice_key": "ca.s16.c3", "next": "s18" }
      ]
    },
    "s17": {
      "image_id": "ballroom",
      "title_key": "ca.s17.title",
      "body_key": "ca.s17.body",
      "choices": [
        { "choice_key": "ca.s17.c1", "next": "s19" },
        { "choice_key": "ca.s17.c2", "next": "s16" },
        { "choice_key": "ca.s17.c3", "next": "s10" }
      ]
    },
    "s18": {
      "image_id": "kitchen",
      "title_key": "ca.s18.title",
      "body_key": "ca.s18.body",
      "choices": [
        { "choice_key": "ca.s18.c1", "next": "s19" },
        { "choice_key": "ca.s18.c2", "next": "s20" },
        { "choice_key": "ca.s18.c3", "next": "s16" }
      ]
    },
    "s19": {
      "image_id": "kitchen",
      "title_key": "ca.s19.title",
      "body_key": "ca.s19.body",
      "choices": [
        { "choice_key": "ca.s19.c1", "next": "s20" },
        { "choice_key": "ca.s19.c2", "next": "s09" },
        { "choice_key": "ca.s19.c3", "next": "s24" }
      ]
    },
    "s20": {
      "image_id": "cellar_stairs",
      "title_key": "ca.s20.title",
      "body_key": "ca.s20.body",
      "choices": [
        { "choice_key": "ca.s20.c1", "next": "s21" },
        { "choice_key": "ca.s20.c2", "next": "s18" },
        { "choice_key": "ca.s20.c3", "next": "s55" }
      ]
    },
    "s21": {
      "image_id": "cellar_corridor",
      "title_key": "ca.s21.title",
      "body_key": "ca.s21.body",
      "choices": [
        { "choice_key": "ca.s21.c1", "next": "s22" },
        { "choice_key": "ca.s21.c2", "next": "s20" },
        { "choice_key": "ca.s21.c3", "next": "s56" }
      ]
    },
    "s22": {
      "image_id": "wine_room",
      "title_key": "ca.s22.title",
      "body_key": "ca.s22.body",
      "choices": [
        { "choice_key": "ca.s22.c1", "next": "s23", "set_flags": ["has_recording"] },
        { "choice_key": "ca.s22.c2", "next": "s21" },
        { "choice_key": "ca.s22.c3", "next": "s24" }
      ]
    },
    "s23": {
      "image_id": "wine_room",
      "title_key": "ca.s23.title",
      "body_key": "ca.s23.body",
      "choices": [
        { "choice_key": "ca.s23.c1", "next": "s21" },
        { "choice_key": "ca.s23.c2", "next": "s55" },
        { "choice_key": "ca.s23.c3", "next": "s24" }
      ]
    },
    "s24": {
      "image_id": "corridor_shift",
      "title_key": "ca.s24.title",
      "body_key": "ca.s24.body",
      "choices": [
        { "choice_key": "ca.s24.c1", "next": "s25" },
        { "choice_key": "ca.s24.c2", "next": "s10" },
        { "choice_key": "ca.s24.c3", "next": "s16" }
      ]
    },
    "s25": {
      "image_id": "chapel",
      "title_key": "ca.s25.title",
      "body_key": "ca.s25.body",
      "choices": [
        { "choice_key": "ca.s25.c1", "next": "s26" },
        { "choice_key": "ca.s25.c2", "next": "s28" },
        { "choice_key": "ca.s25.c3", "next": "s24" }
      ]
    },
    "s26": {
      "image_id": "chapel_altar",
      "title_key": "ca.s26.title",
      "body_key": "ca.s26.body",
      "choices": [
   
  { "choice_key": "ca.s26.c1", "next": "s27", "set_flags": ["has_chapel_key"] },
  { "choice_key": "ca.s26.c2", "next": "s25" },
  { "choice_key": "ca.s26.c3", "next": "s69", "requires_any_flags": ["has_chapel_key"] }

      ]
    },
    "s27": {
      "image_id": "chapel_altar",
      "title_key": "ca.s27.title",
      "body_key": "ca.s27.body",
      "choices": [
        { "choice_key": "ca.s27.c1", "next": "s44" },
        { "choice_key": "ca.s27.c2", "next": "s25" },
        { "choice_key": "ca.s27.c3", "next": "s28" }
      ]
    },
    "s28": {
      "image_id": "conservatory",
      "title_key": "ca.s28.title",
      "body_key": "ca.s28.body",
      "choices": [
        { "choice_key": "ca.s28.c1", "next": "s29" },
        { "choice_key": "ca.s28.c2", "next": "s30" },
        { "choice_key": "ca.s28.c3", "next": "s25" }
      ]
    },
    "s29": {
      "image_id": "conservatory",
      "title_key": "ca.s29.title",
      "body_key": "ca.s29.body",
      "choices": [
        { "choice_key": "ca.s29.c1", "next": "s32" },
        { "choice_key": "ca.s29.c2", "next": "s28" },
        { "choice_key": "ca.s29.c3", "next": "s09" }
      ]
    },
    "s30": {
      "image_id": "servant_quarters",
      "title_key": "ca.s30.title",
      "body_key": "ca.s30.body",
      "choices": [
        { "choice_key": "ca.s30.c1", "next": "s31" },
        { "choice_key": "ca.s30.c2", "next": "s09" },
        { "choice_key": "ca.s30.c3", "next": "s24" }
      ]
    },
    "s31": {
      "image_id": "servant_quarters",
      "title_key": "ca.s31.title",
      "body_key": "ca.s31.body",
      "choices": [
        { "choice_key": "ca.s31.c1", "next": "s32" },
        { "choice_key": "ca.s31.c2", "next": "s30" },
        { "choice_key": "ca.s31.c3", "next": "s34" }
      ]
    },
    "s32": {
      "image_id": "mirror_room",
      "title_key": "ca.s32.title",
      "body_key": "ca.s32.body",
      "choices": [
        { "choice_key": "ca.s32.c1", "next": "s33", "set_flags": ["touched_mirror"] },
        { "choice_key": "ca.s32.c2", "next": "s30" },
        { "choice_key": "ca.s32.c3", "next": "s10" }
      ]
    },
    "s33": {
      "image_id": "mirror_room",
      "title_key": "ca.s33.title",
      "body_key": "ca.s33.body",
      "choices": [
        { "choice_key": "ca.s33.c1", "next": "s68" },
        { "choice_key": "ca.s33.c2", "next": "s09" },
        { "choice_key": "ca.s33.c3", "next": "s34" }
      ]
    },
    "s34": {
      "image_id": "grand_stair",
      "title_key": "ca.s34.title",
      "body_key": "ca.s34.body",
      "choices": [
        { "choice_key": "ca.s34.c1", "next": "s35" },
        { "choice_key": "ca.s34.c2", "next": "s40" },
        { "choice_key": "ca.s34.c3", "next": "s09" }
      ]
    },
    "s35": {
      "image_id": "tower_stairs",
      "title_key": "ca.s35.title",
      "body_key": "ca.s35.body",
      "choices": [
        { "choice_key": "ca.s35.c1", "next": "s36" },
        { "choice_key": "ca.s35.c2", "next": "s34" },
        { "choice_key": "ca.s35.c3", "next": "s37" }
      ]
    },
    "s36": {
      "image_id": "tower_stairs",
      "title_key": "ca.s36.title",
      "body_key": "ca.s36.body",
      "choices": [
        { "choice_key": "ca.s36.c1", "next": "s37" },
        { "choice_key": "ca.s36.c2", "next": "s34" },
        { "choice_key": "ca.s36.c3", "next": "s10" }
      ]
    },
    "s37": {
      "image_id": "tower_room",
      "title_key": "ca.s37.title",
      "body_key": "ca.s37.body",
      "choices": [
        { "choice_key": "ca.s37.c1", "next": "s38", "set_flags": ["has_map_fragment"] },
        { "choice_key": "ca.s37.c2", "next": "s39", "set_flags": ["knows_symbol"] },
        { "choice_key": "ca.s37.c3", "next": "s35" }
      ]
    },
    "s38": {
      "image_id": "tower_room",
      "title_key": "ca.s38.title",
      "body_key": "ca.s38.body",
      "choices": [
        { "choice_key": "ca.s38.c1", "next": "s39", "set_flags": ["knows_symbol"] },
        { "choice_key": "ca.s38.c2", "next": "s35" },
        { "choice_key": "ca.s38.c3", "next": "s40" }
      ]
    },
    "s39": {
      "image_id": "tower_room",
      "title_key": "ca.s39.title",
      "body_key": "ca.s39.body",
      "choices": [
        { "choice_key": "ca.s39.c1", "next": "s70", "requires_any_flags": ["has_map_fragment"] },
        { "choice_key": "ca.s39.c2", "next": "s35" },
        { "choice_key": "ca.s39.c3", "next": "s10" }
      ]
    },
    "s40": {
      "image_id": "attic",
      "title_key": "ca.s40.title",
      "body_key": "ca.s40.body",
      "choices": [
        { "choice_key": "ca.s40.c1", "next": "s41" },
        { "choice_key": "ca.s40.c2", "next": "s34" },
        { "choice_key": "ca.s40.c3", "next": "s43" }
      ]
    },
    "s41": {
      "image_id": "attic_trunk",
      "title_key": "ca.s41.title",
      "body_key": "ca.s41.body",
      "choices": [
        { "choice_key": "ca.s41.c1", "next": "s42", "set_flags": ["has_signet"] },
        { "choice_key": "ca.s41.c2", "next": "s40" },
        { "choice_key": "ca.s41.c3", "next": "s43" }
      ]
    },
    "s42": {
      "image_id": "attic_trunk",
      "title_key": "ca.s42.title",
      "body_key": "ca.s42.body",
      "choices": [
        { "choice_key": "ca.s42.c1", "next": "s71" },
        { "choice_key": "ca.s42.c2", "next": "s40" },
        { "choice_key": "ca.s42.c3", "next": "s43" }
      ]
    },
    "s43": {
      "image_id": "corridor_shift",
      "title_key": "ca.s43.title",
      "body_key": "ca.s43.body",
      "choices": [
        { "choice_key": "ca.s43.c1", "next": "s44" },
        { "choice_key": "ca.s43.c2", "next": "s09" },
        { "choice_key": "ca.s43.c3", "next": "s67" }
      ]
    },
    "s44": {
      "image_id": "corridor",
      "title_key": "ca.s44.title",
      "body_key": "ca.s44.body",
      "choices": [
        { "choice_key": "ca.s44.c1", "next": "s45", "requires_any_flags": ["has_chapel_key"] },
        { "choice_key": "ca.s44.c2", "next": "s10" },
        { "choice_key": "ca.s44.c3", "next": "s46" }
      ]
    },
    "s45": {
      "image_id": "corridor",
      "title_key": "ca.s45.title",
      "body_key": "ca.s45.body",
      "choices": [
        { "choice_key": "ca.s45.c1", "next": "s46" },
        { "choice_key": "ca.s45.c2", "next": "s47" },
        { "choice_key": "ca.s45.c3", "next": "s10" }
      ]
    },
    "s46": {
      "image_id": "library",
      "title_key": "ca.s46.title",
      "body_key": "ca.s46.body",
      "choices": [
        { "choice_key": "ca.s46.c1", "next": "s47" },
        { "choice_key": "ca.s46.c2", "next": "s14" },
        { "choice_key": "ca.s46.c3", "next": "s49" }
      ]
    },
    "s47": {
      "image_id": "library_desk",
      "title_key": "ca.s47.title",
      "body_key": "ca.s47.body",
      "choices": [
        { "choice_key": "ca.s47.c1", "next": "s48", "set_flags": ["has_recording"] },
        { "choice_key": "ca.s47.c2", "next": "s46" },
        { "choice_key": "ca.s47.c3", "next": "s10" }
      ]
    },
    "s48": {
      "image_id": "library_desk",
      "title_key": "ca.s48.title",
      "body_key": "ca.s48.body",
      "choices": [
        { "choice_key": "ca.s48.c1", "next": "s51" },
        { "choice_key": "ca.s48.c2", "next": "s46" },
        { "choice_key": "ca.s48.c3", "next": "s10" }
      ]
    },
    "s49": {
      "image_id": "portrait_gallery",
      "title_key": "ca.s49.title",
      "body_key": "ca.s49.body",
      "choices": [
        { "choice_key": "ca.s49.c1", "next": "s50" },
        { "choice_key": "ca.s49.c2", "next": "s11" },
        { "choice_key": "ca.s49.c3", "next": "s10" }
      ]
    },
    "s50": {
      "image_id": "portrait_gallery",
      "title_key": "ca.s50.title",
      "body_key": "ca.s50.body",
      "choices": [
        { "choice_key": "ca.s50.c1", "next": "s51" },
        { "choice_key": "ca.s50.c2", "next": "s12" },
        { "choice_key": "ca.s50.c3", "next": "s10" }
      ]
    },
    "s51": {
      "image_id": "ballroom",
      "title_key": "ca.s51.title",
      "body_key": "ca.s51.body",
      "choices": [
        { "choice_key": "ca.s51.c1", "next": "s52" },
        { "choice_key": "ca.s51.c2", "next": "s53" },
        { "choice_key": "ca.s51.c3", "next": "s61" }
      ]
    },
    "s52": {
      "image_id": "ballroom",
      "title_key": "ca.s52.title",
      "body_key": "ca.s52.body",
      "choices": [
        { "choice_key": "ca.s52.c1", "next": "s53" },
        { "choice_key": "ca.s52.c2", "next": "s61" },
        { "choice_key": "ca.s52.c3", "next": "s10" }
      ]
    },
    "s53": {
      "image_id": "corridor",
      "title_key": "ca.s53.title",
      "body_key": "ca.s53.body",
      "choices": [
        { "choice_key": "ca.s53.c1", "next": "s54" },
        { "choice_key": "ca.s53.c2", "next": "s62" },
        { "choice_key": "ca.s53.c3", "next": "s55" }
      ]
    },
    "s54": {
      "image_id": "corridor_shift",
      "title_key": "ca.s54.title",
      "body_key": "ca.s54.body",
      "choices": [
        { "choice_key": "ca.s54.c1", "next": "s66" },
        { "choice_key": "ca.s54.c2", "next": "s53" },
        { "choice_key": "ca.s54.c3", "next": "s61" }
      ]
    },
    "s55": {
      "image_id": "cellar_stairs",
      "title_key": "ca.s55.title",
      "body_key": "ca.s55.body",
      "choices": [
        { "choice_key": "ca.s55.c1", "next": "s21" },
        { "choice_key": "ca.s55.c2", "next": "s56" },
        { "choice_key": "ca.s55.c3", "next": "s10" }
      ]
    },
    "s56": {
      "image_id": "cellar_corridor",
      "title_key": "ca.s56.title",
      "body_key": "ca.s56.body",
      "choices": [
        {
          "choice_key": "ca.s56.c1",
          "next": "s57",
          "requires_all_flags": ["has_map_fragment", "knows_symbol"]
        },
        { "choice_key": "ca.s56.c2", "next": "s21" },
        { "choice_key": "ca.s56.c3", "next": "s61" }
      ]
    },
    "s57": {
      "image_id": "secret_passage",
      "title_key": "ca.s57.title",
      "body_key": "ca.s57.body",
      "choices": [
        { "choice_key": "ca.s57.c1", "next": "s58", "set_flags": ["found_secret_passage"] },
        { "choice_key": "ca.s57.c2", "next": "s56" },
        { "choice_key": "ca.s57.c3", "next": "s59" }
      ]
    },
    "s58": {
      "image_id": "secret_passage",
      "title_key": "ca.s58.title",
      "body_key": "ca.s58.body",
      "choices": [
        { "choice_key": "ca.s58.c1", "next": "s59" },
        { "choice_key": "ca.s58.c2", "next": "s57" },
        { "choice_key": "ca.s58.c3", "next": "s60" }
      ]
    },
    "s59": {
      "image_id": "crypt",
      "title_key": "ca.s59.title",
      "body_key": "ca.s59.body",
      "choices": [
        { "choice_key": "ca.s59.c1", "next": "s60", "set_flags": ["entered_crypt"] },
        { "choice_key": "ca.s59.c2", "next": "s57" },
        { "choice_key": "ca.s59.c3", "next": "s61" }
      ]
    },
    "s60": {
      "image_id": "crypt",
      "title_key": "ca.s60.title",
      "body_key": "ca.s60.body",
      "choices": [
        { "choice_key": "ca.s60.c1", "next": "s72" },
        { "choice_key": "ca.s60.c2", "next": "s61" },
        { "choice_key": "ca.s60.c3", "next": "s57" }
      ]
    },
    "s61": {
      "image_id": "ballroom",
      "title_key": "ca.s61.title",
      "body_key": "ca.s61.body",
      "choices": [
        { "choice_key": "ca.s61.c1", "next": "s62" },
        { "choice_key": "ca.s61.c2", "next": "end_bad" },
        { "choice_key": "ca.s61.c3", "next": "s66" }
      ]
    },
    "s62": {
      "image_id": "courtyard",
      "title_key": "ca.s62.title",
      "body_key": "ca.s62.body",
      "choices": [
        { "choice_key": "ca.s62.c1", "next": "s63" },
        { "choice_key": "ca.s62.c2", "next": "s65" },
        { "choice_key": "ca.s62.c3", "next": "s53" }
      ]
    },
    "s63": {
      "image_id": "gate",
      "title_key": "ca.s63.title",
      "body_key": "ca.s63.body",
      "choices": [
        { "choice_key": "ca.s63.c1", "next": "s64" },
        { "choice_key": "ca.s63.c2", "next": "s62" },
        { "choice_key": "ca.s63.c3", "next": "s76" }
      ]
    },
    "s64": {
      "image_id": "gate",
      "title_key": "ca.s64.title",
      "body_key": "ca.s64.body",
      "choices": [
        {
          "choice_key": "ca.s64.c1",
          "next": "end_good",
          "requires_any_flags": ["has_diary_page", "has_recording", "has_map_fragment"]
        },
        { "choice_key": "ca.s64.c2", "next": "s77" },
        { "choice_key": "ca.s64.c3", "next": "s65" }
      ]
    },
    "s65": {
       "image_id": "hall",
  "title_key": "ca.s65.title",
  "body_key": "ca.s65.body",
  "choices": [
    { "choice_key": "ca.s65.c1", "next": "s75" },
      { "choice_key": "ca.s65.c2", "next": "s76" },
    { "choice_key": "ca.s65.c3", "next": "s66" }
      ]
    },
    "s66": {
      "image_id": "corridor_shift",
      "title_key": "ca.s66.title",
      "body_key": "ca.s66.body",
      "choices": [
        { "choice_key": "ca.s66.c1", "next": "s67" },
        { "choice_key": "ca.s66.c2", "next": "s68" },
        { "choice_key": "ca.s66.c3", "next": "end_bad" }
      ]
    },
    "s67": {
      "image_id": "portrait_gallery",
      "title_key": "ca.s67.title",
      "body_key": "ca.s67.body",
      "choices": [
        { "choice_key": "ca.s67.c1", "next": "s49" },
        { "choice_key": "ca.s67.c2", "next": "s76" },
        { "choice_key": "ca.s67.c3", "next": "s66" }
      ]
    },
    "s68": {
      "image_id": "mirror_room",
      "title_key": "ca.s68.title",
      "body_key": "ca.s68.body",
      "choices": [
        { "choice_key": "ca.s68.c1", "next": "s66" },
        { "choice_key": "ca.s68.c2", "next": "s34" },
        { "choice_key": "ca.s68.c3", "next": "s76" }
      ]
    },
    "s69": {
      "image_id": "chapel_altar",
      "title_key": "ca.s69.title",
      "body_key": "ca.s69.body",
      "choices": [
        { "choice_key": "ca.s69.c1", "next": "s44" },
        { "choice_key": "ca.s69.c2", "next": "s25" },
        { "choice_key": "ca.s69.c3", "next": "s76" }
      ]
    },
    "s70": {
      "image_id": "tower_room",
      "title_key": "ca.s70.title",
      "body_key": "ca.s70.body",
      "choices": [
        { "choice_key": "ca.s70.c1", "next": "s56" },
        { "choice_key": "ca.s70.c2", "next": "s60" },
        { "choice_key": "ca.s70.c3", "next": "s34" }
      ]
    },
    "s71": {
      "image_id": "attic_trunk",
      "title_key": "ca.s71.title",
      "body_key": "ca.s71.body",
      "choices": [
        { "choice_key": "ca.s71.c1", "next": "s72" },
        { "choice_key": "ca.s71.c2", "next": "s76" },
        { "choice_key": "ca.s71.c3", "next": "s34" }
      ]
    },
    "s72": {
      "image_id": "crypt",
      "title_key": "ca.s72.title",
      "body_key": "ca.s72.body",
      "choices": [
        {
          "choice_key": "ca.s72.c1",
          "next": "s73",
          "requires_all_flags": ["entered_crypt", "knows_symbol", "has_map_fragment"]
        },
        { "choice_key": "ca.s72.c2", "next": "s61" },
        { "choice_key": "ca.s72.c3", "next": "s57" }
      ]
    },
    "s73": {
      "image_id": "crypt",
      "title_key": "ca.s73.title",
      "body_key": "ca.s73.body",
      "choices": [
        {
          "choice_key": "ca.s73.c1",
          "next": "s74",
          "requires_all_flags": ["has_signet", "has_chapel_key", "has_diary_page", "has_recording", "has_map_fragment"]
        },
        { "choice_key": "ca.s73.c2", "next": "s61" },
        { "choice_key": "ca.s73.c3", "next": "s57" }
      ]
    },
    "s74": {
      "image_id": "crypt",
      "title_key": "ca.s74.title",
      "body_key": "ca.s74.body",
      "choices": [
        { "choice_key": "ca.s74.c1", "next": "end_secret" },
        { "choice_key": "ca.s74.c2", "next": "s64" },
        { "choice_key": "ca.s74.c3", "next": "s61" }
      ]
    },
    "s75": {
      "image_id": "corridor",
      "title_key": "ca.s75.title",
      "body_key": "ca.s75.body",
      "choices": [
        { "choice_key": "ca.s75.c1", "next": "s63" },
        { "choice_key": "ca.s75.c2", "next": "s54" },
        { "choice_key": "ca.s75.c3", "next": "s76" }
      ]
    },
    "s76": {
      "image_id": "ballroom",
      "title_key": "ca.s76.title",
      "body_key": "ca.s76.body",
      "choices": [
        { "choice_key": "ca.s76.c1", "next": "s77" },
        { "choice_key": "ca.s76.c2", "next": "end_bad" },
        { "choice_key": "ca.s76.c3", "next": "s72" }
      ]
    },
    "s77": {
      "image_id": "gate",
      "title_key": "ca.s77.title",
      "body_key": "ca.s77.body",
      "choices": [
        { "choice_key": "ca.s77.c1", "next": "s64" },
        { "choice_key": "ca.s77.c2", "next": "s61" },
        { "choice_key": "ca.s77.c3", "next": "s75" }
      ]
    
    },
    "end_good": {
      "image_id": "final_good",
      "title_key": "ca.end_good.title",
      "body_key": "ca.end_good.body",
      "choices": []
    },
    "end_bad": {
      "image_id": "final_bad",
      "title_key": "ca.end_bad.title",
      "body_key": "ca.end_bad.body",
      "choices": []
    },
    "end_secret": {
      "image_id": "final_secret",
      "title_key": "ca.end_secret.title",
      "body_key": "ca.end_secret.body",
      "choices": []
    }
  }
}
