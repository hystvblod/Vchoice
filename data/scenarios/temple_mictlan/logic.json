{
  "meta": {
    "scenario_id": "temple_mictlan",
    "version": "1.0.1",
    "title_key": "tm.title",
    "tagline_key": "tm.tagline",
    "start_scene": "s01",
    "hint_ns": "tm.h",
    "clues": [
      "has_salt",
      "has_codex",
      "has_jade",
      "has_obsidian",
      "has_rope",
      "has_name",
      "has_offering"
    ]
  },
  "paths": {
    "logic": "data/scenarios/temple_mictlan/logic.json",
    "texts_fr": "data/scenarios/temple_mictlan/text_fr.json",
    "images_dir": "assets/scenarios/temple_mictlan/img/"
  },
  "images": {
    "cover": { "file": "assets/scenarios/temple_mictlan/img/cover.webp" },
    "s01": { "file": "assets/scenarios/temple_mictlan/img/s01.webp" },
    "s02": { "file": "assets/scenarios/temple_mictlan/img/s02.webp" },
    "s03": { "file": "assets/scenarios/temple_mictlan/img/s03.webp" },
    "s04": { "file": "assets/scenarios/temple_mictlan/img/s04.webp" },
    "s05": { "file": "assets/scenarios/temple_mictlan/img/s05.webp" },
    "s06": { "file": "assets/scenarios/temple_mictlan/img/s06.webp" },
    "s07": { "file": "assets/scenarios/temple_mictlan/img/s07.webp" },
    "s08": { "file": "assets/scenarios/temple_mictlan/img/s08.webp" },
    "s09": { "file": "assets/scenarios/temple_mictlan/img/s09.webp" },
    "s10": { "file": "assets/scenarios/temple_mictlan/img/s10.webp" },
    "s11": { "file": "assets/scenarios/temple_mictlan/img/s11.webp" },
    "s12": { "file": "assets/scenarios/temple_mictlan/img/s12.webp" },
    "s13": { "file": "assets/scenarios/temple_mictlan/img/s13.webp" },
    "s14": { "file": "assets/scenarios/temple_mictlan/img/s14.webp" },
    "s15": { "file": "assets/scenarios/temple_mictlan/img/s15.webp" },
    "s16": { "file": "assets/scenarios/temple_mictlan/img/s16.webp" },
    "s17": { "file": "assets/scenarios/temple_mictlan/img/s17.webp" },
    "s18": { "file": "assets/scenarios/temple_mictlan/img/s18.webp" },
    "s19": { "file": "assets/scenarios/temple_mictlan/img/s19.webp" },
    "s20": { "file": "assets/scenarios/temple_mictlan/img/s20.webp" },
    "s21": { "file": "assets/scenarios/temple_mictlan/img/s21.webp" },
    "s22": { "file": "assets/scenarios/temple_mictlan/img/s22.webp" },
    "s23": { "file": "assets/scenarios/temple_mictlan/img/s23.webp" },
    "s24": { "file": "assets/scenarios/temple_mictlan/img/s24.webp" },
    "s25": { "file": "assets/scenarios/temple_mictlan/img/s25.webp" },
    "s26": { "file": "assets/scenarios/temple_mictlan/img/s26.webp" },
    "s27": { "file": "assets/scenarios/temple_mictlan/img/s27.webp" },
    "s28": { "file": "assets/scenarios/temple_mictlan/img/s28.webp" },
    "s29": { "file": "assets/scenarios/temple_mictlan/img/s29.webp" },
    "s30": { "file": "assets/scenarios/temple_mictlan/img/s30.webp" },
    "s31": { "file": "assets/scenarios/temple_mictlan/img/s31.webp" },
    "s32": { "file": "assets/scenarios/temple_mictlan/img/s32.webp" },
    "s33": { "file": "assets/scenarios/temple_mictlan/img/s33.webp" },
    "s34": { "file": "assets/scenarios/temple_mictlan/img/s34.webp" },
    "s35": { "file": "assets/scenarios/temple_mictlan/img/s35.webp" },
    "s36": { "file": "assets/scenarios/temple_mictlan/img/s36.webp" },
    "s37": { "file": "assets/scenarios/temple_mictlan/img/s37.webp" },
    "s38": { "file": "assets/scenarios/temple_mictlan/img/s38.webp" },
    "s39": { "file": "assets/scenarios/temple_mictlan/img/s39.webp" },
    "s40": { "file": "assets/scenarios/temple_mictlan/img/s40.webp" },
    "s41": { "file": "assets/scenarios/temple_mictlan/img/s41.webp" },
    "s42": { "file": "assets/scenarios/temple_mictlan/img/s42.webp" },
    "s43": { "file": "assets/scenarios/temple_mictlan/img/s43.webp" },
    "s44": { "file": "assets/scenarios/temple_mictlan/img/s44.webp" },
    "s45": { "file": "assets/scenarios/temple_mictlan/img/s45.webp" },
    "s46": { "file": "assets/scenarios/temple_mictlan/img/s46.webp" },
    "s47": { "file": "assets/scenarios/temple_mictlan/img/s47.webp" },
    "s48": { "file": "assets/scenarios/temple_mictlan/img/s48.webp" },
    "s49": { "file": "assets/scenarios/temple_mictlan/img/s49.webp" },
    "s50": { "file": "assets/scenarios/temple_mictlan/img/s50.webp" },
    "s51": { "file": "assets/scenarios/temple_mictlan/img/s51.webp" },
    "s52": { "file": "assets/scenarios/temple_mictlan/img/s52.webp" },
    "s53": { "file": "assets/scenarios/temple_mictlan/img/s53.webp" },
    "s54": { "file": "assets/scenarios/temple_mictlan/img/s54.webp" },
    "s55": { "file": "assets/scenarios/temple_mictlan/img/s55.webp" },
    "s56": { "file": "assets/scenarios/temple_mictlan/img/s56.webp" },
    "s57": { "file": "assets/scenarios/temple_mictlan/img/s57.webp" },
    "s58": { "file": "assets/scenarios/temple_mictlan/img/s58.webp" },
    "s59": { "file": "assets/scenarios/temple_mictlan/img/s59.webp" },
    "s60": { "file": "assets/scenarios/temple_mictlan/img/s60.webp" },
    "s61": { "file": "assets/scenarios/temple_mictlan/img/s61.webp" },
    "s62": { "file": "assets/scenarios/temple_mictlan/img/s62.webp" },
    "s63": { "file": "assets/scenarios/temple_mictlan/img/s63.webp" },
    "s64": { "file": "assets/scenarios/temple_mictlan/img/s64.webp" },
    "s65": { "file": "assets/scenarios/temple_mictlan/img/s65.webp" },
    "s66": { "file": "assets/scenarios/temple_mictlan/img/s66.webp" },
    "s67": { "file": "assets/scenarios/temple_mictlan/img/s67.webp" },
    "s68": { "file": "assets/scenarios/temple_mictlan/img/s68.webp" },
    "s69": { "file": "assets/scenarios/temple_mictlan/img/s69.webp" },
    "s70": { "file": "assets/scenarios/temple_mictlan/img/s70.webp" },
    "s71": { "file": "assets/scenarios/temple_mictlan/img/s71.webp" },
    "s72": { "file": "assets/scenarios/temple_mictlan/img/s72.webp" },
    "s73": { "file": "assets/scenarios/temple_mictlan/img/s73.webp" },
    "s74": { "file": "assets/scenarios/temple_mictlan/img/s74.webp" },
    "s75": { "file": "assets/scenarios/temple_mictlan/img/s75.webp" },
    "s76": { "file": "assets/scenarios/temple_mictlan/img/s76.webp" },
    "s77": { "file": "assets/scenarios/temple_mictlan/img/s77.webp" },
    "s78": { "file": "assets/scenarios/temple_mictlan/img/s78.webp" },
    "s79": { "file": "assets/scenarios/temple_mictlan/img/s79.webp" },
    "s80": { "file": "assets/scenarios/temple_mictlan/img/s80.webp" },
    "final_good": { "file": "assets/scenarios/temple_mictlan/img/final_good.webp" },
    "final_bad": { "file": "assets/scenarios/temple_mictlan/img/final_bad.webp" },
    "final_secret": { "file": "assets/scenarios/temple_mictlan/img/final_secret.webp" }
  },
  "state_model": {
    "flags": [
      "has_salt",
      "has_codex",
      "has_jade",
      "has_obsidian",
      "has_rope",
      "has_name",
      "has_offering"
    ]
  },
  "scenes": {
    "s01": {
      "image_id": "s01",
      "title_key": "tm.s01.title",
      "body_key": "tm.s01.body",
      "choices": [
        { "choice_key": "tm.s01.c1", "next": "s02" },
        { "choice_key": "tm.s01.c2", "next": "s03" },
        { "choice_key": "tm.s01.c3", "next": "s04" }
      ]
    },
    "s02": {
      "image_id": "s02",
      "title_key": "tm.s02.title",
      "body_key": "tm.s02.body",
      "choices": [
        { "choice_key": "tm.s02.c1", "next": "s03" },
        { "choice_key": "tm.s02.c2", "next": "s04" },
        { "choice_key": "tm.s02.c3", "next": "s03" }
      ]
    },
    "s03": {
      "image_id": "s03",
      "title_key": "tm.s03.title",
      "body_key": "tm.s03.body",
      "choices": [
        { "choice_key": "tm.s03.c1", "next": "s04" },
        { "choice_key": "tm.s03.c2", "next": "s05" },
        { "choice_key": "tm.s03.c3", "next": "s04" }
      ]
    },
    "s04": {
      "image_id": "s04",
      "title_key": "tm.s04.title",
      "body_key": "tm.s04.body",
      "choices": [
        { "choice_key": "tm.s04.c1", "next": "s05" },
        { "choice_key": "tm.s04.c2", "next": "s02" },
        { "choice_key": "tm.s04.c3", "next": "s05" }
      ]
    },
    "s05": {
      "image_id": "s05",
      "title_key": "tm.s05.title",
      "body_key": "tm.s05.body",
      "choices": [
        { "choice_key": "tm.s05.c1", "next": "s06" },
        { "choice_key": "tm.s05.c2", "next": "s06" },
        { "choice_key": "tm.s05.c3", "next": "s02" }
      ]
    },
    "s06": {
      "image_id": "s06",
      "title_key": "tm.s06.title",
      "body_key": "tm.s06.body",
      "choices": [
        { "choice_key": "tm.s06.c1", "next": "s07" },
        { "choice_key": "tm.s06.c2", "next": "s07" },
        { "choice_key": "tm.s06.c3", "next": "s02" }
      ]
    },
    "s07": {
      "image_id": "s07",
      "title_key": "tm.s07.title",
      "body_key": "tm.s07.body",
      "choices": [
        { "choice_key": "tm.s07.c1", "next": "s08" },
        { "choice_key": "tm.s07.c2", "next": "s09" },
        { "choice_key": "tm.s07.c3", "next": "s06" }
      ]
    },
    "s08": {
      "image_id": "s08",
      "title_key": "tm.s08.title",
      "body_key": "tm.s08.body",
      "choices": [
        { "choice_key": "tm.s08.c1", "next": "s10" },
        { "choice_key": "tm.s08.c2", "next": "s10" },
        { "choice_key": "tm.s08.c3", "next": "s07" }
      ]
    },
    "s09": {
      "image_id": "s09",
      "title_key": "tm.s09.title",
      "body_key": "tm.s09.body",
      "choices": [
        { "choice_key": "tm.s09.c1", "next": "s10", "set_flags": ["has_salt"] },
        { "choice_key": "tm.s09.c2", "next": "s10" },
        { "choice_key": "tm.s09.c3", "next": "s10" }
      ]
    },
    "s10": {
      "image_id": "s10",
      "title_key": "tm.s10.title",
      "body_key": "tm.s10.body",
      "choices": [
        { "choice_key": "tm.s10.c1", "next": "s11" },
        { "choice_key": "tm.s10.c2", "next": "s06" },
        { "choice_key": "tm.s10.c3", "next": "s11" }
      ]
    },
    "s11": {
      "image_id": "s11",
      "title_key": "tm.s11.title",
      "body_key": "tm.s11.body",
      "choices": [
        { "choice_key": "tm.s11.c1", "next": "s12" },
        { "choice_key": "tm.s11.c2", "next": "s12" },
        { "choice_key": "tm.s11.c3", "next": "s06" }
      ]
    },
    "s12": {
      "image_id": "s12",
      "title_key": "tm.s12.title",
      "body_key": "tm.s12.body",
      "choices": [
        { "choice_key": "tm.s12.c1", "next": "s13" },
        { "choice_key": "tm.s12.c2", "next": "s15" },
        { "choice_key": "tm.s12.c3", "next": "s17", "requires_any_flags": ["has_obsidian"] }
      ]
    },
    "s13": {
      "image_id": "s13",
      "title_key": "tm.s13.title",
      "body_key": "tm.s13.body",
      "choices": [
        { "choice_key": "tm.s13.c1", "next": "s15", "set_flags": ["has_jade"] },
        { "choice_key": "tm.s13.c2", "next": "s12" },
        { "choice_key": "tm.s13.c3", "next": "s14" }
      ]
    },
    "s14": {
      "image_id": "s14",
      "title_key": "tm.s14.title",
      "body_key": "tm.s14.body",
      "choices": [
        { "choice_key": "tm.s14.c1", "next": "s15", "set_flags": ["has_codex"] },
        { "choice_key": "tm.s14.c2", "next": "s18" },
        { "choice_key": "tm.s14.c3", "next": "s18" }
      ]
    },
    "s15": {
      "image_id": "s15",
      "title_key": "tm.s15.title",
      "body_key": "tm.s15.body",
      "choices": [
        { "choice_key": "tm.s15.c1", "next": "s12" },
        { "choice_key": "tm.s15.c2", "next": "s16" },
        { "choice_key": "tm.s15.c3", "next": "s18" }
      ]
    },
    "s16": {
      "image_id": "s16",
      "title_key": "tm.s16.title",
      "body_key": "tm.s16.body",
      "choices": [
        { "choice_key": "tm.s16.c1", "next": "s15", "set_flags": ["has_obsidian"] },
        { "choice_key": "tm.s16.c2", "next": "s17", "set_flags": ["has_obsidian"] },
        { "choice_key": "tm.s16.c3", "next": "s12" }
      ]
    },
    "s17": {
      "image_id": "s17",
      "title_key": "tm.s17.title",
      "body_key": "tm.s17.body",
      "choices": [
        { "choice_key": "tm.s17.c1", "next": "s18" },
        { "choice_key": "tm.s17.c2", "next": "s18" },
        { "choice_key": "tm.s17.c3", "next": "s02" }
      ]
    },
    "s18": {
      "image_id": "s18",
      "title_key": "tm.s18.title",
      "body_key": "tm.s18.body",
      "choices": [
        { "choice_key": "tm.s18.c1", "next": "s29" },
        { "choice_key": "tm.s18.c2", "next": "s33" },
        { "choice_key": "tm.s18.c3", "next": "s55" }
      ]
    },

    "s19": {
      "image_id": "s19",
      "title_key": "tm.s19.title",
      "body_key": "tm.s19.body",
      "choices": [
        { "choice_key": "tm.s19.c1", "next": "s20" },
        { "choice_key": "tm.s19.c2", "next": "s18" },
        { "choice_key": "tm.s19.c3", "next": "s20" }
      ]
    },
    "s20": {
      "image_id": "s20",
      "title_key": "tm.s20.title",
      "body_key": "tm.s20.body",
      "choices": [
        { "choice_key": "tm.s20.c1", "next": "s21" },
        { "choice_key": "tm.s20.c2", "next": "s24", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s20.c3", "next": "s19" }
      ]
    },

    "s21": {
      "image_id": "s21",
      "title_key": "tm.s21.title",
      "body_key": "tm.s21.body",
      "choices": [
        { "choice_key": "tm.s21.c1", "next": "s22" },
        { "choice_key": "tm.s21.c2", "next": "s23" },
        { "choice_key": "tm.s21.c3", "next": "s23" }
      ]
    },
    "s22": {
      "image_id": "s22",
      "title_key": "tm.s22.title",
      "body_key": "tm.s22.body",
      "choices": [
        { "choice_key": "tm.s22.c1", "next": "s25" },
        { "choice_key": "tm.s22.c2", "next": "s25" },
        { "choice_key": "tm.s22.c3", "next": "s21" }
      ]
    },
    "s23": {
      "image_id": "s23",
      "title_key": "tm.s23.title",
      "body_key": "tm.s23.body",
      "choices": [
        { "choice_key": "tm.s23.c1", "next": "s22" },
        { "choice_key": "tm.s23.c2", "next": "s24", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s23.c3", "next": "s22" }
      ]
    },
    "s24": {
      "image_id": "s24",
      "title_key": "tm.s24.title",
      "body_key": "tm.s24.body",
      "choices": [
        { "choice_key": "tm.s24.c1", "next": "s25", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s24.c2", "next": "s25" },
        { "choice_key": "tm.s24.c3", "next": "s20" }
      ]
    },
    "s25": {
      "image_id": "s25",
      "title_key": "tm.s25.title",
      "body_key": "tm.s25.body",
      "choices": [
        { "choice_key": "tm.s25.c1", "next": "s26" },
        { "choice_key": "tm.s25.c2", "next": "s22" },
        { "choice_key": "tm.s25.c3", "next": "s26" }
      ]
    },
    "s26": {
      "image_id": "s26",
      "title_key": "tm.s26.title",
      "body_key": "tm.s26.body",
      "choices": [
        { "choice_key": "tm.s26.c1", "next": "s27" },
        { "choice_key": "tm.s26.c2", "next": "s27" },
        { "choice_key": "tm.s26.c3", "next": "s25" }
      ]
    },
    "s27": {
      "image_id": "s27",
      "title_key": "tm.s27.title",
      "body_key": "tm.s27.body",
      "choices": [
        { "choice_key": "tm.s27.c1", "next": "s28" },
        { "choice_key": "tm.s27.c2", "next": "s25" },
        { "choice_key": "tm.s27.c3", "next": "s25" }
      ]
    },
    "s28": {
      "image_id": "s28",
      "title_key": "tm.s28.title",
      "body_key": "tm.s28.body",
      "choices": [
        { "choice_key": "tm.s28.c1", "next": "s12", "set_flags": ["has_obsidian"] },
        { "choice_key": "tm.s28.c2", "next": "s12" },
        { "choice_key": "tm.s28.c3", "next": "s17", "set_flags": ["has_obsidian"] }
      ]
    },

    "s29": {
      "image_id": "s29",
      "title_key": "tm.s29.title",
      "body_key": "tm.s29.body",
      "choices": [
        { "choice_key": "tm.s29.c1", "next": "s30" },
        { "choice_key": "tm.s29.c2", "next": "s31" },
        { "choice_key": "tm.s29.c3", "next": "s12" }
      ]
    },
    "s30": {
      "image_id": "s30",
      "title_key": "tm.s30.title",
      "body_key": "tm.s30.body",
      "choices": [
        { "choice_key": "tm.s30.c1", "next": "s50" },
        { "choice_key": "tm.s30.c2", "next": "s35" },
        { "choice_key": "tm.s30.c3", "next": "s36" }
      ]
    },

    "s31": {
      "image_id": "s31",
      "title_key": "tm.s31.title",
      "body_key": "tm.s31.body",
      "choices": [
        { "choice_key": "tm.s31.c1", "next": "s32" },
        { "choice_key": "tm.s31.c2", "next": "s30" },
        { "choice_key": "tm.s31.c3", "next": "s35", "requires_any_flags": ["has_salt"] }
      ]
    },
    "s32": {
      "image_id": "s32",
      "title_key": "tm.s32.title",
      "body_key": "tm.s32.body",
      "choices": [
        { "choice_key": "tm.s32.c1", "next": "s51" },
        { "choice_key": "tm.s32.c2", "next": "s30" },
        { "choice_key": "tm.s32.c3", "next": "s36" }
      ]
    },

    "s33": {
      "image_id": "s33",
      "title_key": "tm.s33.title",
      "body_key": "tm.s33.body",
      "choices": [
        { "choice_key": "tm.s33.c1", "next": "s34", "set_flags": ["has_jade"] },
        { "choice_key": "tm.s33.c2", "next": "s19" },
        { "choice_key": "tm.s33.c3", "next": "s18" }
      ]
    },
    "s34": {
      "image_id": "s34",
      "title_key": "tm.s34.title",
      "body_key": "tm.s34.body",
      "choices": [
        { "choice_key": "tm.s34.c1", "next": "s43", "requires_all_flags": ["has_codex", "has_jade"] },
        { "choice_key": "tm.s34.c2", "next": "s30" },
        { "choice_key": "tm.s34.c3", "next": "s30" }
      ]
    },

    "s35": {
      "image_id": "s35",
      "title_key": "tm.s35.title",
      "body_key": "tm.s35.body",
      "choices": [
        { "choice_key": "tm.s35.c1", "next": "s24", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s35.c2", "next": "s30" },
        { "choice_key": "tm.s35.c3", "next": "s52" }
      ]
    },
    "s36": {
      "image_id": "s36",
      "title_key": "tm.s36.title",
      "body_key": "tm.s36.body",
      "choices": [
        { "choice_key": "tm.s36.c1", "next": "s37" },
        { "choice_key": "tm.s36.c2", "next": "s30" },
        { "choice_key": "tm.s36.c3", "next": "s37" }
      ]
    },
    "s37": {
      "image_id": "s37",
      "title_key": "tm.s37.title",
      "body_key": "tm.s37.body",
      "choices": [
        { "choice_key": "tm.s37.c1", "next": "s38" },
        { "choice_key": "tm.s37.c2", "next": "s38", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s37.c3", "next": "s36" }
      ]
    },
    "s38": {
      "image_id": "s38",
      "title_key": "tm.s38.title",
      "body_key": "tm.s38.body",
      "choices": [
        { "choice_key": "tm.s38.c1", "next": "s39" },
        { "choice_key": "tm.s38.c2", "next": "s37" },
        { "choice_key": "tm.s38.c3", "next": "s58" }
      ]
    },
    "s39": {
      "image_id": "s39",
      "title_key": "tm.s39.title",
      "body_key": "tm.s39.body",
      "choices": [
        { "choice_key": "tm.s39.c1", "next": "s40" },
        { "choice_key": "tm.s39.c2", "next": "s40", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s39.c3", "next": "s38" }
      ]
    },
    "s40": {
      "image_id": "s40",
      "title_key": "tm.s40.title",
      "body_key": "tm.s40.body",
      "choices": [
        { "choice_key": "tm.s40.c1", "next": "s41" },
        { "choice_key": "tm.s40.c2", "next": "s41", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s40.c3", "next": "s41" }
      ]
    },

    "s41": {
      "image_id": "s41",
      "title_key": "tm.s41.title",
      "body_key": "tm.s41.body",
      "choices": [
        { "choice_key": "tm.s41.c1", "next": "s42" },
        { "choice_key": "tm.s41.c2", "next": "s68" },
        { "choice_key": "tm.s41.c3", "next": "s43" }
      ]
    },
    "s42": {
      "image_id": "s42",
      "title_key": "tm.s42.title",
      "body_key": "tm.s42.body",
      "choices": [
        { "choice_key": "tm.s42.c1", "next": "s69" },
        { "choice_key": "tm.s42.c2", "next": "s69", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s42.c3", "next": "s41" }
      ]
    },
    "s43": {
      "image_id": "s43",
      "title_key": "tm.s43.title",
      "body_key": "tm.s43.body",
      "choices": [
        {
          "choice_key": "tm.s43.c1",
          "next": "s44",
          "requires_all_flags": ["has_codex", "has_jade", "has_obsidian"]
        },
        { "choice_key": "tm.s43.c2", "next": "s27" },
        { "choice_key": "tm.s43.c3", "next": "s30" }
      ]
    },
    "s44": {
      "image_id": "s44",
      "title_key": "tm.s44.title",
      "body_key": "tm.s44.body",
      "choices": [
        { "choice_key": "tm.s44.c1", "next": "s45", "set_flags": ["has_offering"] },
        { "choice_key": "tm.s44.c2", "next": "s30" },
        { "choice_key": "tm.s44.c3", "next": "s35" }
      ]
    },
    "s45": {
      "image_id": "s45",
      "title_key": "tm.s45.title",
      "body_key": "tm.s45.body",
      "choices": [
        { "choice_key": "tm.s45.c1", "next": "s46", "set_flags": ["has_rope"] },
        { "choice_key": "tm.s45.c2", "next": "s46" },
        { "choice_key": "tm.s45.c3", "next": "s41" }
      ]
    },
    "s46": {
      "image_id": "s46",
      "title_key": "tm.s46.title",
      "body_key": "tm.s46.body",
      "choices": [
        { "choice_key": "tm.s46.c1", "next": "s61" },
        { "choice_key": "tm.s46.c2", "next": "s45" },
        { "choice_key": "tm.s46.c3", "next": "s47", "requires_any_flags": ["has_salt"] }
      ]
    },
    "s47": {
      "image_id": "s47",
      "title_key": "tm.s47.title",
      "body_key": "tm.s47.body",
      "choices": [
        { "choice_key": "tm.s47.c1", "next": "s48" },
        { "choice_key": "tm.s47.c2", "next": "s46" },
        { "choice_key": "tm.s47.c3", "next": "s48" }
      ]
    },
    "s48": {
      "image_id": "s48",
      "title_key": "tm.s48.title",
      "body_key": "tm.s48.body",
      "choices": [
        { "choice_key": "tm.s48.c1", "next": "s47" },
        { "choice_key": "tm.s48.c2", "next": "s56" },
        { "choice_key": "tm.s48.c3", "next": "s47", "requires_any_flags": ["has_salt"] }
      ]
    },

    "s49": {
      "image_id": "s49",
      "title_key": "tm.s49.title",
      "body_key": "tm.s49.body",
      "choices": [
        { "choice_key": "tm.s49.c1", "next": "s50" },
        { "choice_key": "tm.s49.c2", "next": "s41" },
        { "choice_key": "tm.s49.c3", "next": "s56" }
      ]
    },

    "s50": {
      "image_id": "s50",
      "title_key": "tm.s50.title",
      "body_key": "tm.s50.body",
      "choices": [
        { "choice_key": "tm.s50.c1", "next": "s53", "requires_any_flags": ["has_codex"] },
        { "choice_key": "tm.s50.c2", "next": "s49" },
        { "choice_key": "tm.s50.c3", "next": "s63" }
      ]
    },

    "s51": {
      "image_id": "s51",
      "title_key": "tm.s51.title",
      "body_key": "tm.s51.body",
      "choices": [
        { "choice_key": "tm.s51.c1", "next": "s71" },
        { "choice_key": "tm.s51.c2", "next": "s56" },
        { "choice_key": "tm.s51.c3", "next": "s50" }
      ]
    },

    "s52": {
      "image_id": "s52",
      "title_key": "tm.s52.title",
      "body_key": "tm.s52.body",
      "choices": [
        { "choice_key": "tm.s52.c1", "next": "s35", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s52.c2", "next": "s43" },
        { "choice_key": "tm.s52.c3", "next": "s59" }
      ]
    },

    "s53": {
      "image_id": "s53",
      "title_key": "tm.s53.title",
      "body_key": "tm.s53.body",
      "choices": [
        { "choice_key": "tm.s53.c1", "next": "s54", "requires_any_flags": ["has_offering"] },
        { "choice_key": "tm.s53.c2", "next": "s50" },
        { "choice_key": "tm.s53.c3", "next": "s41" }
      ]
    },
    "s54": {
      "image_id": "s54",
      "title_key": "tm.s54.title",
      "body_key": "tm.s54.body",
      "choices": [
        { "choice_key": "tm.s54.c1", "next": "s57", "requires_any_flags": ["has_offering"] },
        { "choice_key": "tm.s54.c2", "next": "s50" },
        { "choice_key": "tm.s54.c3", "next": "s63" }
      ]
    },

    "s55": {
      "image_id": "s55",
      "title_key": "tm.s55.title",
      "body_key": "tm.s55.body",
      "choices": [
        { "choice_key": "tm.s55.c1", "next": "s50" },
        { "choice_key": "tm.s55.c2", "next": "s14" },
        { "choice_key": "tm.s55.c3", "next": "s41" }
      ]
    },

    "s56": {
      "image_id": "s56",
      "title_key": "tm.s56.title",
      "body_key": "tm.s56.body",
      "choices": [
        { "choice_key": "tm.s56.c1", "next": "s71" },
        { "choice_key": "tm.s56.c2", "next": "s62" },
        { "choice_key": "tm.s56.c3", "next": "s63" }
      ]
    },
    "s57": {
      "image_id": "s57",
      "title_key": "tm.s57.title",
      "body_key": "tm.s57.body",
      "choices": [
        { "choice_key": "tm.s57.c1", "next": "s63", "requires_any_flags": ["has_offering"] },
        { "choice_key": "tm.s57.c2", "next": "s62" },
        { "choice_key": "tm.s57.c3", "next": "s63" }
      ]
    },
    "s58": {
      "image_id": "s58",
      "title_key": "tm.s58.title",
      "body_key": "tm.s58.body",
      "choices": [
        { "choice_key": "tm.s58.c1", "next": "s60" },
        { "choice_key": "tm.s58.c2", "next": "s50" },
        { "choice_key": "tm.s58.c3", "next": "s41" }
      ]
    },

    "s59": {
      "image_id": "s59",
      "title_key": "tm.s59.title",
      "body_key": "tm.s59.body",
      "choices": [
        { "choice_key": "tm.s59.c1", "next": "s63" },
        { "choice_key": "tm.s59.c2", "next": "s56" },
        { "choice_key": "tm.s59.c3", "next": "s75" }
      ]
    },

    "s60": {
      "image_id": "s60",
      "title_key": "tm.s60.title",
      "body_key": "tm.s60.body",
      "choices": [
        { "choice_key": "tm.s60.c1", "next": "s75" },
        { "choice_key": "tm.s60.c2", "next": "s58" },
        { "choice_key": "tm.s60.c3", "next": "s63" }
      ]
    },

    "s61": {
      "image_id": "s61",
      "title_key": "tm.s61.title",
      "body_key": "tm.s61.body",
      "choices": [
        { "choice_key": "tm.s61.c1", "next": "s63" },
        { "choice_key": "tm.s61.c2", "next": "s63", "requires_any_flags": ["has_salt"] },
        { "choice_key": "tm.s61.c3", "next": "s62" }
      ]
    },

    "s62": {
      "image_id": "s62",
      "title_key": "tm.s62.title",
      "body_key": "tm.s62.body",
      "choices": [
        { "choice_key": "tm.s62.c1", "next": "s63" },
        { "choice_key": "tm.s62.c2", "next": "s41" },
        { "choice_key": "tm.s62.c3", "next": "s56" }
      ]
    },
    "s63": {
      "image_id": "s63",
      "title_key": "tm.s63.title",
      "body_key": "tm.s63.body",
      "choices": [
        {
          "choice_key": "tm.s63.c1",
          "next": "s64",
          "requires_all_flags": ["has_codex", "has_jade", "has_obsidian", "has_offering"]
        },
        { "choice_key": "tm.s63.c2", "next": "s64", "requires_any_flags": ["has_codex"] },
        { "choice_key": "tm.s63.c3", "next": "s62" }
      ]
    },
    "s64": {
      "image_id": "s64",
      "title_key": "tm.s64.title",
      "body_key": "tm.s64.body",
      "choices": [
        { "choice_key": "tm.s64.c1", "next": "s67" },
        { "choice_key": "tm.s64.c2", "next": "s65" },
        { "choice_key": "tm.s64.c3", "next": "s66", "requires_any_flags": ["has_codex"] }
      ]
    },
    "s65": {
      "image_id": "s65",
      "title_key": "tm.s65.title",
      "body_key": "tm.s65.body",
      "choices": [
        { "choice_key": "tm.s65.c1", "next": "s41" },
        { "choice_key": "tm.s65.c2", "next": "s70" },
        { "choice_key": "tm.s65.c3", "next": "s71" }
      ]
    },
    "s66": {
      "image_id": "s66",
      "title_key": "tm.s66.title",
      "body_key": "tm.s66.body",
      "choices": [
        { "choice_key": "tm.s66.c1", "next": "s67" },
        { "choice_key": "tm.s66.c2", "next": "s75" },
        { "choice_key": "tm.s66.c3", "next": "s68" }
      ]
    },
    "s67": {
      "image_id": "s67",
      "title_key": "tm.s67.title",
      "body_key": "tm.s67.body",
      "choices": [
        { "choice_key": "tm.s67.c1", "next": "s70", "set_flags": ["has_name"] },
        { "choice_key": "tm.s67.c2", "next": "s68" },
        { "choice_key": "tm.s67.c3", "next": "s69" }
      ]
    },
    "s68": {
      "image_id": "s68",
      "title_key": "tm.s68.title",
      "body_key": "tm.s68.body",
      "choices": [
        { "choice_key": "tm.s68.c1", "next": "s70", "set_flags": ["has_name"] },
        { "choice_key": "tm.s68.c2", "next": "s67" },
        { "choice_key": "tm.s68.c3", "next": "s69" }
      ]
    },
    "s69": {
      "image_id": "s69",
      "title_key": "tm.s69.title",
      "body_key": "tm.s69.body",
      "choices": [
        { "choice_key": "tm.s69.c1", "next": "s70", "set_flags": ["has_name"] },
        { "choice_key": "tm.s69.c2", "next": "s67" },
        { "choice_key": "tm.s69.c3", "next": "s70" }
      ]
    },
    "s70": {
      "image_id": "s70",
      "title_key": "tm.s70.title",
      "body_key": "tm.s70.body",
      "choices": [
        { "choice_key": "tm.s70.c1", "next": "s75", "requires_any_flags": ["has_name"] },
        { "choice_key": "tm.s70.c2", "next": "s74" },
        { "choice_key": "tm.s70.c3", "next": "s71" }
      ]
    },
    "s71": {
      "image_id": "s71",
      "title_key": "tm.s71.title",
      "body_key": "tm.s71.body",
      "choices": [
        { "choice_key": "tm.s71.c1", "next": "s72", "requires_any_flags": ["has_offering"] },
        { "choice_key": "tm.s71.c2", "next": "s73" },
        { "choice_key": "tm.s71.c3", "next": "s70" }
      ]
    },
    "s72": {
      "image_id": "s72",
      "title_key": "tm.s72.title",
      "body_key": "tm.s72.body",
      "choices": [
        { "choice_key": "tm.s72.c1", "next": "s75" },
        { "choice_key": "tm.s72.c2", "next": "s70", "requires_any_flags": ["has_name"] },
        { "choice_key": "tm.s72.c3", "next": "s57" }
      ]
    },
    "s73": {
      "image_id": "s73",
      "title_key": "tm.s73.title",
      "body_key": "tm.s73.body",
      "choices": [
        { "choice_key": "tm.s73.c1", "next": "s75" },
        { "choice_key": "tm.s73.c2", "next": "s80" },
        { "choice_key": "tm.s73.c3", "next": "s70" }
      ]
    },
    "s74": {
      "image_id": "s74",
      "title_key": "tm.s74.title",
      "body_key": "tm.s74.body",
      "choices": [
        { "choice_key": "tm.s74.c1", "next": "s75" },
        { "choice_key": "tm.s74.c2", "next": "end_bad" },
        { "choice_key": "tm.s74.c3", "next": "s75", "requires_any_flags": ["has_salt"] }
      ]
    },
    "s75": {
      "image_id": "s75",
      "title_key": "tm.s75.title",
      "body_key": "tm.s75.body",
      "choices": [
        { "choice_key": "tm.s75.c1", "next": "s76" },
        { "choice_key": "tm.s75.c2", "next": "s77" },
        { "choice_key": "tm.s75.c3", "next": "s76" }
      ]
    },
    "s76": {
      "image_id": "s76",
      "title_key": "tm.s76.title",
      "body_key": "tm.s76.body",
      "choices": [
        { "choice_key": "tm.s76.c1", "next": "s77" },
        { "choice_key": "tm.s76.c2", "next": "end_bad" },
        { "choice_key": "tm.s76.c3", "next": "end_secret", "requires_any_flags": ["has_name"] }
      ]
    },
    "s77": {
      "image_id": "s77",
      "title_key": "tm.s77.title",
      "body_key": "tm.s77.body",
      "choices": [
        { "choice_key": "tm.s77.c1", "next": "s79" },
        { "choice_key": "tm.s77.c2", "next": "s78" },
        { "choice_key": "tm.s77.c3", "next": "s78" }
      ]
    },
    "s78": {
      "image_id": "s78",
      "title_key": "tm.s78.title",
      "body_key": "tm.s78.body",
      "choices": [
        { "choice_key": "tm.s78.c1", "next": "s80" },
        { "choice_key": "tm.s78.c2", "next": "end_bad" },
        { "choice_key": "tm.s78.c3", "next": "s79", "requires_any_flags": ["has_codex"] }
      ]
    },
    "s79": {
      "image_id": "s79",
      "title_key": "tm.s79.title",
      "body_key": "tm.s79.body",
      "choices": [
        { "choice_key": "tm.s79.c1", "next": "end_good" },
        { "choice_key": "tm.s79.c2", "next": "end_good" },
        { "choice_key": "tm.s79.c3", "next": "s80" }
      ]
    },
    "s80": {
      "image_id": "s80",
      "title_key": "tm.s80.title",
      "body_key": "tm.s80.body",
      "choices": [
        { "choice_key": "tm.s80.c1", "next": "end_good" },
        { "choice_key": "tm.s80.c2", "next": "end_bad" },
        {
          "choice_key": "tm.s80.c3",
          "next": "end_secret",
          "requires_all_flags": ["has_codex", "has_jade", "has_obsidian", "has_name", "has_offering"]
        }
      ]
    },

    "end_good": {
      "image_id": "final_good",
      "title_key": "tm.end_good.title",
      "body_key": "tm.end_good.body",
      "choices": []
    },
    "end_bad": {
      "image_id": "final_bad",
      "title_key": "tm.end_bad.title",
      "body_key": "tm.end_bad.body",
      "choices": []
    },
    "end_secret": {
      "image_id": "final_secret",
      "title_key": "tm.end_secret.title",
      "body_key": "tm.end_secret.body",
      "choices": []
    }
  }
}
